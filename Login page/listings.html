<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Listings | Lost & Found</title>
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <style>
    /* Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    
    body {
      min-height: 100vh;
      background-color: #f8f9fc;
    }

    /* Dashboard Container */
    .dashboard-container {
      display: flex;
      min-height: 100vh;
    }

    /* Sidebar */
    .sidebar {
      width: 280px;
      background: linear-gradient(180deg, #1e40af 0%, #1e3a8a 100%);
      color: white;
      padding: 20px 0;
      height: 100vh;
      position: sticky;
      top: 0;
      box-shadow: 5px 0 15px rgba(0,0,0,0.1);
    }
    
    .sidebar-header {
      text-align: center;
      padding: 0 20px 20px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      margin-bottom: 20px;
    }
    
    .profile-img {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid rgba(255,255,255,0.2);
      margin-bottom: 15px;
    }
    
    .sidebar-header h3 {
      margin: 5px 0;
      font-size: 18px;
      font-weight: 500;
    }
    
    .sidebar-header p {
      font-size: 12px;
      opacity: 0.8;
      margin: 0;
      font-weight: 300;
    }
    
    .sidebar-nav ul {
      list-style: none;
      padding: 0 15px;
    }
    
    .sidebar-nav li {
      margin-bottom: 5px;
    }
    
    .sidebar-nav a {
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      display: block;
      padding: 10px 15px;
      border-radius: 5px;
      transition: all 0.3s;
      font-size: 14px;
      font-weight: 400;
    }
    
    .sidebar-nav a:hover {
      background: rgba(255,255,255,0.1);
      color: white;
    }
    
    .sidebar-nav a.active {
      background: rgba(255,255,255,0.2);
      color: white;
    }
    
    .sidebar-nav i {
      width: 25px;
      text-align: center;
      margin-right: 5px;
      font-size: 16px;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      padding: 30px;
      background-color: #f8f9fc;
    }
    
    .dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }
    
    .page-title {
      font-size: 24px;
      color: #2d3748;
      font-weight: 600;
    }
    
    /* Filter Controls */
    .filter-controls {
      display: flex;
      gap: 15px;
      margin-bottom: 30px;
      background: white;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 0.15rem 1.75rem 0 rgba(58,59,69,0.1);
    }
    
    .filter-btn {
      padding: 8px 20px;
      border-radius: 20px;
      border: none;
      cursor: pointer;
      font-weight: 500;
      transition: all 0.3s;
    }
    
    .filter-btn.active {
      background: #4e73df;
      color: white;
    }
    
    .filter-btn.inactive {
      background: #e9ecef;
      color: #495057;
    }
    
    /* Listings Grid */
    .listings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .listing-card {
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0.15rem 1.75rem 0 rgba(58,59,69,0.1);
      transition: transform 0.3s;
    }
    
    .listing-card:hover {
      transform: translateY(-5px);
    }
    
    .listing-img {
      height: 200px;
      background-size: cover;
      background-position: center;
    }
    
    .listing-details {
      padding: 20px;
    }
    
    .listing-status {
      display: inline-block;
      padding: 4px 10px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      margin-bottom: 10px;
    }
    
    .status-lost {
      background: #fee2e2;
      color: #b91c1c;
    }
    
    .status-found {
      background: #dcfce7;
      color: #166534;
    }
    
    .status-returned {
      background: #dbeafe;
      color: #1e40af;
    }
    
    .listing-title {
      font-size: 18px;
      margin-bottom: 8px;
      color: #2d3748;
    }
    
    .listing-location, .listing-date {
      display: flex;
      align-items: center;
      color: #64748b;
      font-size: 14px;
      margin-bottom: 8px;
    }
    
    .listing-location i, .listing-date i {
      margin-right: 8px;
    }
    
    .view-btn {
      display: inline-block;
      margin-top: 15px;
      padding: 8px 16px;
      background: #4e73df;
      color: white;
      border-radius: 4px;
      text-decoration: none;
      font-size: 14px;
      transition: background 0.3s;
    }
    
    .view-btn:hover {
      background: #3b65d6;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      .dashboard-container {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
        height: auto;
        position: relative;
      }
      
      .filter-controls {
        flex-direction: column;
      }
    }
  </style>
</head>

<body>
  <div class="dashboard-container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <img src="https://images.unsplash.com/photo-1531427186611-ecfd6d936c79?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cHJvZmlsZSUyMHBpY3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=200&q=60" 
             alt="User Profile" class="profile-img">
        <h3>John Doe</h3>
        <p>Member since June 2023</p>
      </div>
      
      <nav class="sidebar-nav">
        <ul>
          <li><a href="#"><i class="fas fa-home"></i> Dashboard</a></li>
          <li><a href="#" class="active"><i class="fas fa-list"></i> Listings</a></li>
          <li><a href="#"><i class="fas fa-question-circle"></i> My Lost Items</a></li>
          <li><a href="#"><i class="fas fa-check-circle"></i> My Found Items</a></li>
          <li><a href="#"><i class="fas fa-cog"></i> Settings</a></li>
          <li><a href="#"><i class="fas fa-user"></i> Profile</a></li>
          <li><a href="#"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="dashboard-header">
        <h1 class="page-title"><i class="fas fa-list"></i> Listings</h1>
      </header>
      
      <!-- Filter Controls -->
      <div class="filter-controls">
        <button class="filter-btn active" id="all-btn">All Items</button>
        <button class="filter-btn inactive" id="lost-btn">Lost Items</button>
        <button class="filter-btn inactive" id="found-btn">Found Items</button>
      </div>
      
      <!-- Listings Grid -->
      <div class="listings-grid" id="listings-container">
        <!-- Listing cards will be populated here -->
      </div>
    </main>
  </div>

  <script>
    // Sample data for listings
    const listings = [
      {
        id: 1,
        title: "Lost Wallet",
        description: "Black leather wallet with credit cards inside",
        image: "https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8d2FsbGV0fGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",
        location: "Central Park",
        date: "2023-06-15",
        status: "lost",
        type: "lost"
      },
      {
        id: 2,
        title: "Found iPhone",
        description: "iPhone 12 with blue case",
        image: "https://images.unsplash.com/photo-1510557880182-3d1d332f8b74?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8aXBob25lfGVufDB8fDB8fHww&auto=format&fit=crop&w=500&q=60",
        location: "Coffee Shop",
        date: "2023-06-10",
        status: "found",
        type: "found"
      },
      {
        id: 3,
        title: "Lost Keys",
        description: "Set of car and house keys",
        image: "https://images.unsplash.com/photo-1600267176111-2af550e9a7d0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8N3x8bG9zdCUyMGtleXN8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",
        location: "Downtown Parking",
        date: "2023-06-05",
        status: "lost",
        type: "lost"
      },
      {
        id: 4,
        title: "Found Watch",
        description: "Silver wristwatch near the fountain",
        image: "https://images.unsplash.com/photo-1523170335258-f5ed11844a49?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8d2F0Y2h8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",
        location: "City Mall",
        date: "2023-05-28",
        status: "found",
        type: "found"
      },
      {
        id: 5,
        title: "Lost Backpack",
        description: "Blue backpack with laptop inside",
        image: "https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8YmFja3BhY2t8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60",
        location: "University Library",
        date: "2023-05-20",
        status: "returned",
        type: "lost"
      },
      {
        id: 6,
        title: "Found Sunglasses",
        description: "Rayban aviator sunglasses",
        image: "https://images.unsplash.com/photo-1511499767150-a48a237f0083?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8c3VuZ2xhc3Nlc3xlbnwwfHwwfHx8MA%3D%3D&auto=format&fit=crop&w=500&q=60",
        location: "Beach Area",
        date: "2023-05-15",
        status: "found",
        type: "found"
      }
    ];

    // DOM Elements
    const listingsContainer = document.getElementById('listings-container');
    const allBtn = document.getElementById('all-btn');
    const lostBtn = document.getElementById('lost-btn');
    const foundBtn = document.getElementById('found-btn');

    // Current filter state
    let currentFilter = 'all';

    // Initialize the page
    document.addEventListener('DOMContentLoaded', function() {
      renderListings();
      setupFilterButtons();
      
      // Check URL parameters for filter
      const urlParams = new URLSearchParams(window.location.search);
      const filter = urlParams.get('filter');
      
      if (filter === 'lost' || filter === 'found') {
        setActiveFilter(filter);
      }
    });

    // Render listings based on current filter
    function renderListings() {
      listingsContainer.innerHTML = '';
      
      const filteredListings = listings.filter(listing => {
        if (currentFilter === 'all') return true;
        return listing.type === currentFilter;
      });
      
      if (filteredListings.length === 0) {
        listingsContainer.innerHTML = '<p>No items found matching your criteria.</p>';
        return;
      }
      
      filteredListings.forEach(listing => {
        const listingCard = createListingCard(listing);
        listingsContainer.appendChild(listingCard);
      });
    }

    // Create a listing card element
    function createListingCard(listing) {
      const card = document.createElement('div');
      card.className = 'listing-card';
      
      // Determine status class and text
      let statusClass, statusText;
      if (listing.status === 'lost') {
        statusClass = 'status-lost';
        statusText = 'Lost';
      } else if (listing.status === 'found') {
        statusClass = 'status-found';
        statusText = 'Found';
      } else {
        statusClass = 'status-returned';
        statusText = 'Returned';
      }
      
      card.innerHTML = `
        <div class="listing-img" style="background-image: url('${listing.image}')"></div>
        <div class="listing-details">
          <span class="listing-status ${statusClass}">${statusText}</span>
          <h3 class="listing-title">${listing.title}</h3>
          <p>${listing.description}</p>
          <div class="listing-location">
            <i class="fas fa-map-marker-alt"></i>
            <span>${listing.location}</span>
          </div>
          <div class="listing-date">
            <i class="far fa-calendar-alt"></i>
            <span>${formatDate(listing.date)}</span>
          </div>
          <a href="listing-detail.html?id=${listing.id}" class="view-btn">View Details</a>
        </div>
      `;
      
      return card;
    }

    // Format date
    function formatDate(dateString) {
      const options = { year: 'numeric', month: 'long', day: 'numeric' };
      return new Date(dateString).toLocaleDateString(undefined, options);
    }

    // Set up filter button event listeners
    function setupFilterButtons() {
      allBtn.addEventListener('click', () => setActiveFilter('all'));
      lostBtn.addEventListener('click', () => setActiveFilter('lost'));
      foundBtn.addEventListener('click', () => setActiveFilter('found'));
    }

    // Set the active filter and update UI
    function setActiveFilter(filter) {
      currentFilter = filter;
      
      // Update button states
      allBtn.className = filter === 'all' ? 'filter-btn active' : 'filter-btn inactive';
      lostBtn.className = filter === 'lost' ? 'filter-btn active' : 'filter-btn inactive';
      foundBtn.className = filter === 'found' ? 'filter-btn active' : 'filter-btn inactive';
      
      // Update URL without reloading
      const url = new URL(window.location);
      if (filter === 'all') {
        url.searchParams.delete('filter');
      } else {
        url.searchParams.set('filter', filter);
      }
      window.history.pushState({}, '', url);
      
      // Re-render listings
      renderListings();
    }
  </script>
</body>
</html>